# Port Forwarding

## SSH

### Locally

Example: we want to connect to the port 1025 on the remote machine "delivery" on our port 1337.

```
ssh -L 1337:localhost:1025 maildeliverer@delivery
```

Example: we want to access the port 1025 on the remote machine "pivotable" through the machine "delivery" on our machine on port 1337.&#x20;

```
ssh -L 1337:pivotable:1025 maildeliverer@delivery
```

### Remotely

Example: SSH to my kali, opens up port 1025 on the victim's localhost, to be accessible at port 1337 on kali.

```
ssh -R 1337:localhost:1025 kali@mykali
```

### Dynamically

This creates a SOCKS proxy that allows you to reach IP addresses that are in the same network as a box you can SSH to.&#x20;

Run the following commands on the box you want to proxy through:

```
# in an ssh session:
~C
-D 1080
```

Then, on your machine, make sure `/etc/proxychains.conf` has:

```
socks5 127.0.0.1 1080
```

Then you can use the `proxychains` command in front of your other commands to proxy through the machine. For example, this command curls the IP address 192.168.122.4 through the proxied machine:

```
proxychains curl 192.168.122.4
```

To use that with burp, go to "User Options", select "use socks proxy", and configure it to use localhost on port 1080.
